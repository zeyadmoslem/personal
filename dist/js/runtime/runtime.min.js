$(document).ready(function(){"use strict";var l=2500,a=3800,o=a-3e3,n=50,r=150,d=500,c=d+800,p=600,t=1500;function u(e){var s,i,t=w(e);e.parents(".cd-headline").hasClass("type")?((s=e.parent(".cd-words-wrapper")).addClass("selected").removeClass("waiting"),setTimeout(function(){s.removeClass("selected"),e.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},d),setTimeout(function(){h(t,r)},c)):e.parents(".cd-headline").hasClass("letters")?(i=e.children("i").length>=t.children("i").length,function e(s,i,t,n){s.removeClass("in").addClass("out");s.is(":last-child")?t&&setTimeout(function(){u(w(i))},l):setTimeout(function(){e(s.next(),i,t,n)},n);{var a;s.is(":last-child")&&$("html").hasClass("no-csstransitions")&&(a=w(i),m(i,a))}}(e.find("i").eq(0),e,i,n),f(t.find("i").eq(0),t,i,n)):e.parents(".cd-headline").hasClass("clip")?e.parents(".cd-words-wrapper").animate({width:"2px"},p,function(){m(e,t),h(t)}):e.parents(".cd-headline").hasClass("loading-bar")?(e.parents(".cd-words-wrapper").removeClass("is-loading"),m(e,t),setTimeout(function(){u(t)},a),setTimeout(function(){e.parents(".cd-words-wrapper").addClass("is-loading")},o)):(m(e,t),setTimeout(function(){u(t)},l))}function h(e,s){e.parents(".cd-headline").hasClass("type")?(f(e.find("i").eq(0),e,!1,s),e.addClass("is-visible").removeClass("is-hidden")):e.parents(".cd-headline").hasClass("clip")&&e.parents(".cd-words-wrapper").animate({width:e.width()+10},p,function(){setTimeout(function(){u(e)},t)})}function f(e,s,i,t){e.addClass("in").removeClass("out"),e.is(":last-child")?(s.parents(".cd-headline").hasClass("type")&&setTimeout(function(){s.parents(".cd-words-wrapper").addClass("waiting")},200),i||setTimeout(function(){u(s)},l)):setTimeout(function(){f(e.next(),s,i,t)},t)}function w(e){return e.is(":last-child")?e.parent().children().eq(0):e.next()}function m(e,s){e.removeClass("is-visible").addClass("is-hidden"),s.removeClass("is-hidden").addClass("is-visible")}(function(e){e.each(function(){var e=$(this),s=e.text().split(""),t=e.hasClass("is-visible");for(i in s)0<e.parents(".rotate-2").length&&(s[i]="<em>"+s[i]+"</em>"),s[i]=t?'<i class="in">'+s[i]+"</i>":"<i>"+s[i]+"</i>";var n=s.join("");e.html(n).css("opacity",1)})})($(".cd-headline.letters").find("b")),function(e){var n=l;e.each(function(){var e,s,i,t=$(this);t.hasClass("loading-bar")?(n=a,setTimeout(function(){t.find(".cd-words-wrapper").addClass("is-loading")},o)):t.hasClass("clip")?(s=(e=t.find(".cd-words-wrapper")).width()+10,e.css("width",s)):t.hasClass("type")||(s=t.find(".cd-words-wrapper b"),i=0,s.each(function(){var e=$(this).width();i<e&&(i=e)}),t.find(".cd-words-wrapper").css("width",i)),setTimeout(function(){u(t.find(".is-visible").eq(0))},n)})}($(".cd-headline")),$(".counter-number span").each(function(e){var s=$(this),i=0,t=s.text(),n=Math.floor(2e3/t),a=setInterval(function(){i+=1,s.text(i),i==t&&clearInterval(a)},n)}),$(".popup-content").magnificPopup({type:"inline",mainClass:"mfp-with-zoom",tLoading:"",removalDelay:100,zoom:{enabled:!0,duration:600,easing:"ease-in-out"},closeBtnInside:!1,closeOnContentClick:!1,callbacks:{open:function(){$("body").addClass("lightbox-open")},close:function(){$("body").removeClass("lightbox-open")}}});new Swiper(".mySwiper",{pagination:{el:".swiper-pagination",type:"fraction"},loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".singel_portfolio_swiper",{slidesPerView:2,spaceBetween:30,cssMode:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{"@0.00":{slidesPerView:1,spaceBetween:10},"@0.75":{slidesPerView:1,spaceBetween:10},"@1.00":{slidesPerView:2,spaceBetween:30},"@1.50":{slidesPerView:2,spaceBetween:30}}});var e=d3.select(".singel-portfolio"),s=e.select("#scrolly"),v=s.select("figure"),s=s.select("article"),C=e.select(".fixed-step").selectAll(".step1"),g=s.selectAll(".step"),b=scrollama();function y(i){console.log(i),C.classed("is-active",function(e,s){return s===i.index}),g.classed("is-active",function(e,s){return s===i.index}),v.select("img").attr("src",i.element.lastElementChild.innerText)}d3.selectAll(".sticky").each(function(){Stickyfill.add(this)}),function(){var e=Math.floor(.75*window.innerHeight);g.style("height",e+"px");var s=window.innerHeight/1.7,e=(window.innerHeight-s)/8;v.style("height",s+"px").style("top",e+"px"),b.resize()}(),b.setup({step:"#scrolly article .step",offset:.8,debug:!1}).onStepEnter(y),$(".singel-portfolio #scrolly").niceScroll({cursorcolor:"transparent",autohidemode:"scroll",smoothscroll:!0,cursorborder:"1px solid transparent"})});